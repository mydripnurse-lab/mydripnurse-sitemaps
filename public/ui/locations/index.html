<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Choose your location</title>
    <style>
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
        background: #fff;
      }
      .wrap {
        padding: 18px;
      }
      .title {
        font-size: 18px;
        font-weight: 700;
        margin: 0 0 12px;
      }
      #mdn-locations-widget {
        min-height: 420px;
      }
    </style>
  </head>

  <body>
    <div class="wrap">
      <h1 class="title">Choose your location</h1>
      <div id="mdn-locations-widget"></div>
    </div>

    <script>
      // ✅ Siempre define el config ANTES de cargar el widget
      window.__MDN_LOCATIONS_CONFIG__ = {
        // OJO: asegúrate que este JSON exista en /public/ui/
        statesIndexUrl:
          "https://sitemaps.mydripnurse.com/public/ui/states-index.json",

        // "county" = Book redirige al countyDomain
        // "city"   = Book redirige al cityDomain
        redirectMode: "county",

        // Ajusta al path real de tu booking en cada county/city
        bookPath: "/book-service",

        stickyBook: true,
        placeholder: "Choose your City, State, or Country",
      };
    </script>

    <!-- ✅ Carga el widget desde la ruta REAL -->
    <script src="https://sitemaps.mydripnurse.com/public/ui/locations-widget.js"></script>

    <script>
      // ✅ Asegura que el widget exista antes de llamar mount
      (function boot() {
        var cfg = window.__MDN_LOCATIONS_CONFIG__ || {};
        var widget = window.MDNLocationsWidget;

        if (!widget || typeof widget.mount !== "function") {
          console.error(
            "MDNLocationsWidget not found. Check script URL:",
            "https://sitemaps.mydripnurse.com/public/ui/locations-widget.js"
          );
          return;
        }

        widget.mount("#mdn-locations-widget", cfg);
      })();
    </script>
  </body>
</html>
